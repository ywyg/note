{
  "type": "index_parallel",
  "spec": {
    "ioConfig": {
      "type": "index_parallel",
      "inputSource": {
        "type": "inline",
        "data": "{\"isRobot\":true,\"channel\":\"channel1\",\"timestamp\":\"2016-06-27T00:00:11.080Z\",\"flags\":\"NB\",\"isUnpatrolled\":false,\"page\":\"Salo Toraut\",\"diffUrl\":\"https://sv.wikipedia.org/w/index.php?oldid=36099284&rcid=89369918\",\"added\":31,\"comment\":\"Botskapande Indonesien omdirigering\",\"commentLength\":35,\"isNew\":true,\"isMinor\":false,\"delta\":31,\"isAnonymous\":false,\"user\":\"Lsjbot\",\"deltaBucket\":0.0,\"deleted\":0,\"namespace\":\"Main\"}\n{\"isRobot\":false,\"channel\":\"channel2\",\"cityName\":\"Buenos Aires\",\"timestamp\":\"2016-06-27T00:00:34.959Z\",\"flags\":\"\",\"isUnpatrolled\":false,\"page\":\"Bailando 2015\",\"countryName\":\"Argentina\",\"regionIsoCode\":\"C\",\"diffUrl\":\"https://en.wikipedia.org/w/index.php?diff=727144213&oldid=727144184\",\"added\":2,\"metroCode\":null,\"comment\":\"/* Scores */\",\"commentLength\":12,\"isNew\":false,\"isMinor\":false,\"delta\":2,\"countryIsoCode\":\"AR\",\"isAnonymous\":true,\"user\":\"181.230.118.178\",\"regionName\":\"Buenos Aires F.D.\",\"deltaBucket\":0.0,\"deleted\":0,\"namespace\":\"Main\"}\n{\"isRobot\":false,\"channel\":null,\"timestamp\":\"2016-06-27T00:00:36.027Z\",\"flags\":\"M\",\"isUnpatrolled\":false,\"page\":\"Richie Rich's Christmas Wish\",\"diffUrl\":\"https://en.wikipedia.org/w/index.php?diff=727144214&oldid=716794477\",\"added\":0,\"comment\":\"standard term is [[title character]]\",\"commentLength\":36,\"isNew\":false,\"isMinor\":true,\"delta\":-2,\"isAnonymous\":false,\"user\":\"JasonAQuest\",\"deltaBucket\":-100.0,\"deleted\":2,\"namespace\":\"Main\"}\n{\"isRobot\":true,\"channel\":\"channel1\",\"timestamp\":\"2016-06-27T00:00:58.599Z\",\"flags\":\"NB\",\"isUnpatrolled\":false,\"page\":\"Kategoria:Dyskusje nad usunięciem artykułu zakończone bez konsensusu − lipiec 2016\",\"diffUrl\":\"https://pl.wikipedia.org/w/index.php?oldid=46204477&rcid=68522573\",\"added\":270,\"comment\":\"utworzenie kategorii\",\"commentLength\":20,\"isNew\":true,\"isMinor\":false,\"delta\":270,\"isAnonymous\":false,\"user\":\"Beau.bot\",\"deltaBucket\":200.0,\"deleted\":0,\"namespace\":\"Kategoria\"}\n{\"isRobot\":true,\"channel\":\"channel3\",\"timestamp\":\"2016-06-27T00:01:03.685Z\",\"flags\":\"MB\",\"isUnpatrolled\":false,\"page\":\"El Terco, Bachíniva\",\"diffUrl\":\"https://sh.wikipedia.org/w/index.php?diff=29388566&oldid=29282572&rcid=34712923\",\"added\":0,\"comment\":\"Bot: Automatska zamjena teksta  (-[[Administrativna podjela Meksika|Admin]] +[[Administrativna podjela Meksika|Admi]])\",\"commentLength\":118,\"isNew\":false,\"isMinor\":true,\"delta\":-1,\"isAnonymous\":false,\"user\":\"Kolega2357\",\"deltaBucket\":-100.0,\"deleted\":1,\"namespace\":\"Main\"}\n{\"isRobot\":true,\"channel\":\"channel1\",\"timestamp\":\"2016-06-27T00:01:07.347Z\",\"flags\":\"NB\",\"isUnpatrolled\":false,\"page\":\"Neqerssuaq\",\"diffUrl\":\"https://ceb.wikipedia.org/w/index.php?oldid=9563239&rcid=36193146\",\"added\":4150,\"comment\":\"Paghimo ni bot Greenland\",\"commentLength\":24,\"isNew\":true,\"isMinor\":false,\"delta\":4150,\"isAnonymous\":false,\"user\":\"Lsjbot\",\"deltaBucket\":4100.0,\"deleted\":0,\"namespace\":\"Main\"}\n{\"isRobot\":false,\"channel\":null,\"cityName\":null,\"timestamp\":\"2016-06-27T00:01:14.343Z\",\"flags\":\"\",\"isUnpatrolled\":false,\"page\":\"Sumo (banda)\",\"countryName\":\"Argentina\",\"regionIsoCode\":null,\"diffUrl\":\"https://es.wikipedia.org/w/index.php?diff=91937261&oldid=91937229\",\"added\":0,\"metroCode\":null,\"comment\":\"/* Línea de tiempo */\",\"commentLength\":21,\"isNew\":false,\"isMinor\":false,\"delta\":-173,\"countryIsoCode\":\"AR\",\"isAnonymous\":true,\"user\":\"181.110.165.189\",\"regionName\":null,\"deltaBucket\":-200.0,\"deleted\":173,\"namespace\":\"Main\"}\n{\"isRobot\":false,\"channel\":null,\"timestamp\":\"2016-06-27T00:01:59.599Z\",\"flags\":\"\",\"isUnpatrolled\":false,\"page\":\"Panama Canal\",\"diffUrl\":\"https://en.wikipedia.org/w/index.php?diff=727144327&oldid=727144068\",\"added\":496,\"comment\":\"expanding lead + missing RS\",\"commentLength\":27,\"isNew\":false,\"isMinor\":false,\"delta\":496,\"isAnonymous\":false,\"user\":\"Mariordo\",\"deltaBucket\":400.0,\"deleted\":0,\"namespace\":\"Main\"}\n{\"isRobot\":false,\"channel\":\"channel5\",\"timestamp\":\"2016-06-27T00:02:09.238Z\",\"flags\":\"\",\"isUnpatrolled\":false,\"page\":\"Википедия:Опросы/Унификация шаблонов «Не переведено»\",\"diffUrl\":\"https://ru.wikipedia.org/w/index.php?diff=79213888&oldid=79213880\",\"added\":196,\"comment\":\"/* Нет */\",\"commentLength\":9,\"isNew\":false,\"isMinor\":false,\"delta\":196,\"isAnonymous\":false,\"user\":\"Wanderer777\",\"deltaBucket\":100.0,\"deleted\":0,\"namespace\":\"Википедия\"}\n{\"isRobot\":true,\"channel\":\"channel1\",\"timestamp\":\"2016-06-27T00:02:10.857Z\",\"flags\":\"MB\",\"isUnpatrolled\":false,\"page\":\"Hermanos Díaz, Ascensión\",\"diffUrl\":\"https://sh.wikipedia.org/w/index.php?diff=29388624&oldid=29282630&rcid=34712981\",\"added\":0,\"comment\":\"Bot: Automatska zamjena teksta  (-[[Administrativna podjela Meksika|Admin]] +[[Administrativna podjela Meksika|Admi]])\",\"commentLength\":118,\"isNew\":false,\"isMinor\":true,\"delta\":-1,\"isAnonymous\":false,\"user\":\"Kolega2357\",\"deltaBucket\":-100.0,\"deleted\":1,\"namespace\":\"Main\"}\n"
      },
      "inputFormat": {
        "type": "json"
      }
    },
    "dataSchema": {
      "granularitySpec": {
        "segmentGranularity": "day",
        "queryGranularity": "none",
        "rollup": false
      },
      "dataSource": "inline_data",
      "timestampSpec": {
        "column": "timestamp",
        "format": "iso"
      },
      "dimensionsSpec": {
        "dimensions": [
          "isRobot",
          "channel",
          "flags",
          "isUnpatrolled",
          "page",
          "diffUrl",
          {
            "type": "long",
            "name": "added"
          },
          "comment",
          {
            "type": "long",
            "name": "commentLength"
          },
          "isNew",
          "isMinor",
          {
            "type": "long",
            "name": "delta"
          },
          "isAnonymous",
          "user",
          {
            "type": "long",
            "name": "deltaBucket"
          },
          {
            "type": "long",
            "name": "deleted"
          },
          "namespace",
          "cityName",
          "countryName",
          "regionIsoCode",
          "metroCode",
          "countryIsoCode",
          "regionName"
        ]
      }
    },
    "tuningConfig": {
      "type": "index_parallel",
      "partitionsSpec": {
        "type": "dynamic"
      }
    }
  }
}